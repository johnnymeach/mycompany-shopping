<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <title>My Company - Product Upload Page</title>
        <style>
            #login-box {
                width: 600px;
                margin-left: 150px;
            }
            .form-group {
                width: 200px;
            }
        </style>
    </h:head>
    <h:body>       
                <div id="login-box">
                    <c:if test="#{product.status == 'A'}">
                        <h3>Product Successfully Uploaded!</h3><br />
                        File Size: <span style="color:red">#{product.imageSize} MB</span>, Available Disk Space: <span style="color:red">#{product.availableSpace} MB</span>
                    </c:if>
                    <c:if test="#{product.status == 'D'}">
                        <h3>You are running out of disk space! Please check your email for details.</h3>                                
                    </c:if>
                </div>
                <div id="login-box">
                    <h3>Please enter product details [ Vendor: <span style="color:red">${vendorName}</span> ] </h3>
                <h:form enctype="multipart/form-data">
                    <div class="form-group">
                        <h:outputLabel for="prodName" value="Product Name" />
                        <h:inputText class="form-control" id="prodName" value="#{product.prodName}" />
                    </div>
                    <div class="form-group">
                        <h:outputLabel for="price" value="Price" />
                        <h:inputText class="form-control" id="price" value="#{product.price}" />
                    </div>
                    <div class="form-group">
                        <table>
                            <tr>   
                                <td style="width:100px;"><h:outputLabel for="image" value="Upload Product Image" /></td>
                                <td><h:inputFile id="image" value="#{product.file}" /></td>                    
                            </tr>
                        </table>
                    </div>
                    <div class="form-group">
                        <h:outputLabel for="description" value="Description" />
                        <h:inputTextarea class="form-control" id="description" value="#{product.description}" />
                    </div>
                    <div class="form-group">
                        <h:outputLabel for="brand" value="Brand" />
                        <h:inputText class="form-control" id="brand" value="#{product.brand}" />
                    </div>
                    <div class="form-group">
                        <h:outputLabel for="cat" value="Category" />
                        <h:inputText class="form-control" id="cat" value="#{product.category}" />
                    </div>
                    <div class="form-group">
                        <h:outputLabel for="qty" value="Quantity" />
                        <h:inputText class="form-control" id="qty" value="#{product.quantity}" />
                    </div>    
                    <div class="form-group">
                        <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" />
                        <h:commandButton class="btn btn-primary" id="messages" action="#{product.uploadProduct()}" value="Upload Product" />
                    </div>      
                </h:form>
                </div>
    </h:body>
</html>
